<!DOCTYPE html>

<html lang="en">
<head>
  <title>Tools/Trip - SUMO - Simulation of Urban Mobility</title>
  <meta charset="UTF-8">
  <link rel="stylesheet" type="text/css" href="../sumo.css">
  <link rel="license" href=
  "http://creativecommons.org/licenses/by-sa/3.0/">
</head>

<body id="bmission">
  <div id="container">
    <div id="logo" style="text-align:left">
      <img src="../logo.png" width="128" height="128"
      alt="SUMO-Simulation of Urban Mobility" style=
      "float:left; margin-left:10px; margin-right:20px;">
      <div id="logo_text1">SUMO</div>
      <div id="logo_text2">Simulation of Urban MObility</div>
    </div>

    <div id="subsMenu">
      <ul>
        <li class="sub"><a href=
        "http://sumo-sim.org/">Home</a></li>

        <li class="sub"><a href="../Downloads.html">Download</a></li>

        <li class="sub"><a href="../index.html">Documentation</a></li>

        <li class="sub"><a href=
        "http://sumo-sim.org/wiki/">Wiki</a></li>

        <li class="sub"><a href=
        "http://sumo-sim.org/trac/">Trac</a></li>

        <li class="sub"><a href=
        "http://sumo-sim.org/blog/">Blog</a></li>

        <li class="sub"><a href="../Contact.html">Contact</a></li>

        <li class="sub"><a href=
        "http://sourceforge.net/projects/sumo/">SF-Project</a></li>
      </ul>
    </div>

    <div id="nav">
      <div id="step1">
        <h3>User</h3>
        <ul>
        <!-- nav begins --> <li><a href="../SUMO_User_Documentation.html">Introduction</a></li>
<li style="list-style: none; display: inline"><ul>
  <li><a href="../Sumo_at_a_Glance.html">The traffic simulation SUMO</a></li>
</ul></li>
  <li><a href="../SUMO_User_Documentation.html#Basic_Usage">Basic Usage</a></li>
<li style="list-style: none; display: inline"><ul>
  <li><a href="../Basics/Notation.html">Notation in this Documentation</a></li>
  <li><a href="../Basics/Basic_Computer_Skills.html">Needed, basic Computer Skills</a></li>
  <li><a href="../Installing.html">Installing SUMO</a></li>
  <li><a href="../Basics/Using_the_Command_Line_Applications.html">Using SUMO Command Line Applications</a></li>
  <li><a href="../Tutorials.html">Tutorials</a></li>
</ul></li>
  <li><a href="../SUMO_User_Documentation.html#Network_Building">Network Building</a></li>
<li style="list-style: none; display: inline"><ul>
  <li><a href="../Networks/SUMO_Road_Networks.html">SUMO Road Networks</a></li>
  <li><a href="../Networks/Abstract_Network_Generation.html">Abstract networks generation</a></li>
  <li><a href="../NETCONVERT.html">NETCONVERT</a></li>
<li style="list-style: none; display: inline"><ul>
   <li><a href="../Networks/Building_Networks_from_own_XML-descriptions.html">Defining own networks using XML</a></li>
   <li><a href="../Networks/Import.html">Importing non-SUMO networks</a></li>
<li style="list-style: none; display: inline"><ul>
    <li><a href="../Networks/Import/OpenStreetMap.html">... from OpenStreetMap</a></li>
    <li><a href="../Networks/Import/VISUM.html">... from VISUM</a></li>
    <li><a href="../Networks/Import/Vissim.html">... from Vissim</a></li>
    <li><a href="../Networks/Import/OpenDRIVE.html">... from OpenDRIVE</a></li>
    <li><a href="../Networks/Import/MATsim.html">... from MATsim</a></li>
    <li><a href="../Networks/Import/ArcView.html">... from ArcView (shapefiles)</a></li>
    <li><a href="../Networks/Import/DlrNavteq.html">... from Elmar's GDF</a></li>
    <li><a href="../Networks/Import/RoboCup.html">... from Robocup Simulation League</a></li>
</ul></li>
   <li><a href="../Networks/Import/SUMO_Road_Networks.html">Importing SUMO networks</a></li>
   <li><a href="../Simulation/Pedestrians.html#Building_a_network_for_pedestrian_simulation">Building networks for pedestrian simulation</a></li>
   <li><a href="../Networks/Further_Options.html">Further NETCONVERT options</a></li>
   <li><a href="../Networks/Further_Outputs.html">Additional output</a></li>
</ul></li>
</ul></li>
   <li><a href="../SUMO_User_Documentation.html#Demand_Modelling">Demand Modelling</a></li>
<li style="list-style: none; display: inline"><ul>
  <li><a href="../Demand/Introduction_to_demand_modelling_in_SUMO.html">Introduction to SUMO Demand Modelling</a></li>
  <li><a href="../Definition_of_Vehicles,_Vehicle_Types,_and_Routes.html">Definition of Vehicles, Vehicle Types, and Routes</a></li>
  <li><a href="../Simulation/Public_Transport.html">Simulation of public transport</a></li>
  <li><a href="../Specification/Persons.html">Simulation of individual persons and trip chains</a></li>
  <li><a href="../Specification/Logistics.html">Simulation of logistics</a></li>
  <li><a href="../Demand/Shortest_or_Optimal_Path_Routing.html">Shortest or Optimal Path Routing</a></li>
  <li><a href="../Demand/Automatic_Routing_.html">Routing in the Simulation</a></li>
  <li><a href="../Demand/Dynamic_User_Assignment.html">Computing Dynamic User Assignment</a></li>
</ul></li>
  <li>Data sources for demand generation</li>
<li style="list-style: none; display: inline"><ul>
  <li><a href="../Demand/Importing_O/D_Matrices.html">Importing O/D Matrices</a></li>
<li style="list-style: none; display: inline"><ul>
   <li><a href="../Demand/Further_Ways_to_import_VISUM_Demand_Definitions.html">Other VISUM Demand Importers</a></li>
   <li><a href="../Demand/Further_Ways_to_import_Vissim_Demand_Definitions.html">Other Vissim Demand Importers</a></li>
</ul></li>
  <li><a href="../Demand/Routes_from_Observation_Points.html">Routes from Observation Points</a></li>
  <li><a href="../Demand/Routing_by_Turn_Probabilities.html">Routing by Turn Probabilities</a></li>
  <li><a href="../Demand/Activity-based_Demand_Generation.html">Activity-based Demand Generation</a></li>
  <li><a href="../Tools/Trip.html#randomTrips.py">Random Trips</a></li>
</ul></li>
  <li><a href="../SUMO_User_Documentation.html#Simulation">Simulation</a></li>
<li style="list-style: none; display: inline"><ul>
  <li><a href="../Simulation/Basic_Definition.html">Basic Definition</a></li>
  <li>Traffic Management and Other Structures</li>
<li style="list-style: none; display: inline"><ul>
   <li><a href="../Simulation/Traffic_Lights.html">Traffic Lights</a></li>
   <li><a href="../Simulation/Public_Transport.html">Public Transport</a></li>
   <li><a href="../Simulation/Variable_Speed_Signs.html">Variable Speed Signs</a></li>
   <li><a href="../Simulation/Rerouter.html">Rerouter / Alternative Route Signage</a></li>
   <li><a href="../Simulation/Vaporizer.html">Vaporizer</a></li>
   <li><a href="../Simulation/Calibrator.html">Dynamic calibration of flow and speed</a></li>
</ul></li>
  <li><a href="../Simulation/Output.html">Simulation output</a></li>
  <li><a href="../TraCI.html">TraCI (On-line Interaction)</a></li>
  <li><a href="../Simulation/Pedestrians.html">Pedestrian simulation</a></li>
  <li><a href="../Simulation/Shapes.html">Shapes Visualisation</a></li>
  <li><a href="../Models/Emissions.html">Emissions</a></li>
  <li><a href="../Simulation/VehicleSpeed.html">Vehicle speed</a></li>
  <li><a href="../Simulation/Randomness.html">Randomness</a></li>
  <li><a href="../Simulation/GenericParameters.html">Generic Parameters</a></li>
  <li>Common Problems</li>
<li style="list-style: none; display: inline"><ul>
   <li><a href="../Simulation/Why_Vehicles_are_teleporting.html">Why Vehicles are teleporting</a></li>
</ul></li>
</ul></li>
   <li><a href="../SUMO_User_Documentation.html#Theory">Theory</a></li>
<li style="list-style: none; display: inline"><ul>
  <li><a href="../Theory/Traffic_Simulations.html">Traffic simulations in general</a></li>
</ul></li>
  <li><a href="../SUMO_User_Documentation.html#Appendices">Appendices</a></li>
<li style="list-style: none; display: inline"><ul>
  <li><a href="../Other/Glossary.html">Glossary</a></li>
  <li><a href="../FAQ.html">FAQ</a></li>
  <li><a href="../Tools/Main.html">Additional Tools</a></li>
  <li><a href="../Other/File_Extensions.html">Known File Extensions</a></li>
  <li>Application Manuals</li>
<li style="list-style: none; display: inline"><ul>
   <li><a href="../SUMO.html">SUMO</a></li>
   <li><a href="../SUMO-GUI.html">SUMO-GUI</a></li>
   <li><a href="../NETCONVERT.html">NETCONVERT</a></li>
   <li><a href="../NETGENERATE.html">NETGENERATE</a></li>
   <li><a href="../OD2TRIPS.html">OD2TRIPS</a></li>
   <li><a href="../DUAROUTER.html">DUAROUTER</a></li>
   <li><a href="../JTRROUTER.html">JTRROUTER</a></li>
   <li><a href="../DFROUTER.html">DFROUTER</a></li>
   <li><a href="../MAROUTER.html">MAROUTER</a></li>
   <li><a href="../POLYCONVERT.html">POLYCONVERT</a></li>
   <li><a href="../ACTIVITYGEN.html">ACTIVITYGEN</a></li>
</ul></li>
  <li>Tool Manuals</li>
<li style="list-style: none; display: inline"><ul>
   <li><a href="../Tools/TraceExporter.html">Tools/TraceExporter</a></li>
   <li><a href="../Tools/Visualization.html">Tools/Visualization</a></li>
   <li><a href="../Tools/Emissions.html">Tools/Emissions</a></li>
</ul></li>
  <li><a href="../ChangeLog.html">ChangeLog</a></li>
</ul></li>
<!-- nav ends -->
        </ul>
      </div>

      <div id="step2">
        <h3>Further Resources</h3>

        <ul>
          <li><a href="../Data/Networks.html">Example
          Networks</a></li>

          <li><a href="../Data/Scenarios.html">Example
          Scenarios</a></li>

          <li><a href="../Data/Traffic_Data.html">Traffic
          Data</a></li>
        </ul>
      </div>

      <div id="step3">
        <h3>Developer</h3>

        <ul>
          <li><a href="../Developer/Main.html">Developer Docs</a></li>

          <li><a href="http://sumo-sim.org/daily/">Daily Tests
          Status</a></li>

          <li><a href="../../doxygen/">Doxygen Documentation</a></li>

          <li>Python Modules Documentation</li>

          <li style="list-style: none; display: inline">
            <ul>
              <li><a href="../../pydoc/traci.html">traci</a></li>

              <li><a href="../../pydoc/sumolib.html">sumolib</a></li>
            </ul>
          </li>
        </ul>
      </div>
    </div>

    <div id="content">
      <a id="top"></a>
			<div id="mw-js-message" style="display:none;"></div>
						<!-- firstHeading -->
			<h1 id="firstHeading" class="firstHeading" lang="en"><span dir="auto">Tools/Trip</span></h1>
			<!-- /firstHeading -->
			<!-- bodyContent -->
			<div id="bodyContent">
								<!-- tagline -->
				<div id="siteSub">generated on 2015-03-31 10:30:55.112491 from <a href="http://sumo.dlr.de/wiki/Tools/Trip">the wiki page for Tools/Trip</a> for SUMO 0.23.0</div>
				<!-- /tagline -->
								<!-- subtitle -->
				<div id="contentSub"></div>
				<!-- /subtitle -->
																<!-- jumpto -->
				
				<!-- /jumpto -->
								<!-- bodycontent -->
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><table id="toc" class="toc"><tr><td><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#randomTrips.py"><span class="tocnumber">1</span> <span class="toctext">randomTrips.py</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#generating_vehicles_with_additional_parameters"><span class="tocnumber">1.1</span> <span class="toctext">generating vehicles with additional parameters</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#customized_weights"><span class="tocnumber">1.2</span> <span class="toctext">customized weights</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-4"><a href="#route2trips.py"><span class="tocnumber">2</span> <span class="toctext">route2trips.py</span></a></li>
</ul>
</td></tr></table>
<h1> <span class="mw-headline" id="randomTrips.py">randomTrips.py</span></h1>
<p>"randomTrips.py" generates a set of random trips for a given network (option <span style="color: #111144; font-weight: bold; white-space: pre;">-n</span>). It does so by choosing source and destination edge either uniformly at random or weighted by length (option <span style="color: #111144; font-weight: bold; white-space: pre;">-l</span>), by number of lanes (option <span style="color: #111144; font-weight: bold; white-space: pre;">-L</span>) or both. The resulting trips are stored in an xml file (option <span style="color: #111144; font-weight: bold; white-space: pre;">-o</span>, default trips.trips.xml) suitable for the <a href="../DUAROUTER.html" title="DUAROUTER">DUAROUTER</a> which is called automatically if the <span style="color: #111144; font-weight: bold; white-space: pre;">-r</span> option (with a filename for the resulting route file) is given. The trips are distributed evenly in an interval defined by begin (option <span style="color: #111144; font-weight: bold; white-space: pre;">-b</span>, default 0) and end time (option <span style="color: #111144; font-weight: bold; white-space: pre;">-e</span>, default 3600) in seconds.
The number of trips is defined by the repetition rate (option <span style="color: #111144; font-weight: bold; white-space: pre;">
-p</span>, default 1) in seconds. Every trip has an id consisting of a prefix (option <span style="color: #111144; font-weight: bold; white-space: pre;">--prefix</span>, default "") and a running number. Example call:
</p>
<pre><i><b>&lt;SUMO_HOME&gt;</b></i>/tools/trip/randomTrips.py -n input_net.net.xml -e 50 -l
</pre>
<p>The script does not check whether the chosen destination may be reached from the source. This task is performed by the router. If the network is not fully connected some of the trips may be discarded.
</p><p>The option <span style="color: #111144; font-weight: bold; white-space: pre;"> --min-distance <a href="../Basics/Notation.html#Referenced_Data_Types" title="Basics/Notation"><i>&lt;FLOAT&gt;</i></a></span> ensures a minimum straight-line distance (in meter) between start and end edges of a trip. The script will keep sampling from the edge distribution until enough trips with sufficient distance are found.
</p><p>The option <span style="color: #111144; font-weight: bold; white-space: pre;"> --fringe-factor <a href="../Basics/Notation.html#Referenced_Data_Types" title="Basics/Notation"><i>&lt;FLOAT&gt;</i></a></span> increases the probability that trips will start/end at the fringe of the network. If the value <i>10</i> is given, edges that have no successor or no predecessor will be 10 times more likely to be chosen as start- or endpoint of a trip. This is useful when modelling through-traffic which starts and ends at the outside of the simulated area.
</p><p>For additional ways to influence edge probabilities call
</p>
<pre><i><b>&lt;SUMO_HOME&gt;</b></i>/tools/trip/randomTrips.py --help
</pre>
<h2> <span class="mw-headline" id="generating_vehicles_with_additional_parameters">generating vehicles with additional parameters</span></h2>
<p>With the option <span style="color: #111144; font-weight: bold; white-space: pre;"> --trip-parameters <a href="../Basics/Notation.html#Referenced_Data_Types" title="Basics/Notation"><i>&lt;STRING&gt;</i></a></span>, additional parameters can be given to the generated vehicles (note, usage of the quoting characters).
</p>
<pre> <i><b>&lt;SUMO_HOME&gt;</b></i>/tools/trip/randomTrips.py -n input_net.net.xml --trip-parameters="departLane=\"best\" departSpeed=\"max\" departPos=\"random\""
</pre>
<p>This would make the random vehicles  be distributed randomly on their starting edges and inserted with high speed on a reasonable lane.
</p><p>If the generated vehicles should have a specific vehicle type, an <a href="../SUMO.html#Format_of_additional_files" title="SUMO"><i>additional-file</i></a> needs to be prepared:
</p>
<pre>&lt;additional&gt;
  &lt;vType id="myType" maxSpeed="27" vClass="passenger"/&gt;
&lt;/additional&gt;
</pre>
<p>Then load this file (assume it was saved as <i>type.add.xml</i>) with the option --additional-file
</p>
<pre><i><b>&lt;SUMO_HOME&gt;</b></i>/tools/trip/randomTrips.py -n input_net.net.xml --trip-parameters="type=\"myType\"" --additional-file type.add.xml 
   --vclass passenger
</pre>
<p>Note the use of the option <span style="color: #111144; font-weight: bold; white-space: pre;">--vclass</span> which ensures that random start- and arrival-edges allow a specific vehicle class.
</p><p>To generate random pedestrian traffic instead of vehicular traffic, the option <span style="color: #111144; font-weight: bold; white-space: pre;">--pedestrians</span> may be used. It is recommended to combined this with the option <span style="color: #111144; font-weight: bold; white-space: pre;">--max-distance</span> to avoid walks of excessive length. See <a href="../Simulation/Pedestrians.html" title="Simulation/Pedestrians">Simulation/Pedestrians</a> for addition information on the simulation of pedestrians.
</p>
<h2> <span class="mw-headline" id="customized_weights">customized weights</span></h2>
<p>Using option <span style="color: #111144; font-weight: bold; white-space: pre;">weights-output-prefix foo</span> will cause three files (<i>foo.src.xml, foo.dst.xml, foo.via.xml</i>) to be generated  which contain the used edge probabilities. Any of these files can be loaded in <a href="../SUMO-GUI.html" title="SUMO-GUI">SUMO-GUI</a> for visualization, i.e. using the options <span style="color: #111144; font-weight: bold; white-space: pre;">--weight-file <i>foo.src.xml</i></span> <span style="color: #111144; font-weight: bold; white-space: pre;">--weight-attribute <i>value</i></span>. In <a href="../SUMO-GUI.html" title="SUMO-GUI">SUMO-GUI</a> lane-coloring <i>by loaded weight</i> must be selected to make the data visible.
</p><p>Files in this format can be loaded to specify explicit edge probabilities for being a source/destination/via edge.
To obtain trips from a specific location to random destinations you may provide a modified .src.xml file which only contains a value for the desired start location. Then load that file using the option <span style="color: #111144; font-weight: bold; white-space: pre;">--weights-prefix <i>foo.src.xml</i></span>
</p><p>When loading weights, missing edges will default to probability 0 and missing files (i.e. missing <i>foo.dst.xml</i>) will default to normal randomization.
</p>
<h1> <span class="mw-headline" id="route2trips.py">route2trips.py</span></h1>
<p>This script generates a trip file from a route file by stripping all route information except for start and end edge. It has a single parameter which is the route file and prints the trip file to stdout. Example:
</p>
<pre><i><b>&lt;SUMO_HOME&gt;</b></i>/tools/trip/route2trips.py input_routes.rou.xml
</pre>
<!-- 
NewPP limit report
Preprocessor visited node count: 171/1000000
Preprocessor generated node count: 486/1000000
Postâ€expand include size: 2112/2097152 bytes
Template argument size: 386/2097152 bytes
Highest expansion depth: 3/40
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key sumoSimWiki:pcache:idhash:327-0!*!0!!en!*!* and timestamp 20150330123814 -->
</div>				<!-- /bodycontent -->
								<!-- printfooter -->
				</div><hr/><div id="lastmod">This page was last modified on 9 December 2014, at 10:13.</div> </div>

    <div id="footer">
      <div>
        (c) 2011-2013, German Aerospace Center, Institute of
        Transportation Systems
      </div>

      <div>
        Layout based on <a href=
        "http://www.oswd.org/design/preview/id/3365">"Three
        Quarters"</a> by "SimplyGold"
      </div>
    </div>
  </div>
</body>
</html>
